<html>
  <head>
    <style>
      body {
        -webkit-touch-callout: none;
        -webkit-user-select: none;
        -khtml-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
      }
      #top-card {
        font-size: 50vw;
      }
      #cards-left {
        font: bold italics;
      }
      #reset {
        border-style: none;
        position: fixed;
        left: 50%;
        bottom: 20px;
        transform: translate(-50%, -50%);
        margin: 0 auto;
      }
    </style>
  </head>
  <body>
    <center>
      <font id="top-card">{{ card|safe }}</font>
      <br />
      <font id="cards-left">{{size}}</font>
      <input type="button" id="reset" value="Reset Game" />
    </center>
  </body>
  <script src="//cdnjs.cloudflare.com/ajax/libs/socket.io/2.2.0/socket.io.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script type="text/javascript" charset="utf-8">
    $(function () {
      var user = Math.floor(Math.random() * Math.floor(1000));
      var socket = io();

      socket.on("connect", (data) => {
        socket.emit("joinGame", { user: user });
      });

      socket.on("playerJoined", (data) => {
        console.log(data);
      });

      socket.on("cardDrawn", (data) => {
        console.log(data);
        $("#top-card").empty().append(data.card);
        $("#cards-left").empty().append(data.size);
      });

      $("#top-card").on("click", function () {
        socket.emit("drawCard", { user: user });
      });

      $("#reset").on("click", function () {
        socket.emit("resetGame", { user: user });
      });
    });
  </script>
</html>
